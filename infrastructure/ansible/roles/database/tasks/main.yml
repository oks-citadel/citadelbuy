---
# Database role - PostgreSQL setup and configuration

- name: Install PostgreSQL
  include_tasks: install.yml

- name: Configure PostgreSQL
  include_tasks: configure.yml

- name: Setup database backups
  include_tasks: backup.yml

- name: Configure replication (production only)
  include_tasks: replication.yml
  when:
    - environment == 'production'
    - postgres_role is defined
