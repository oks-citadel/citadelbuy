# ==================================
# CitadelBuy - Production Environment Variables
# Variables specific to production environment
# ==================================

variables:
  # Environment
  ENVIRONMENT: 'production'
  ENV_SHORT: 'prod'

  # Azure Resources
  AKS_RESOURCE_GROUP: 'citadelbuy-prod-rg'
  AKS_CLUSTER_NAME: 'citadelbuy-prod-aks'

  # Kubernetes
  K8S_NAMESPACE: 'citadelbuy-prod'
  K8S_REPLICAS: '3'

  # URLs
  PRODUCTION_WEB_URL: 'https://citadelbuy.com'
  PRODUCTION_API_URL: 'https://api.citadelbuy.com'

  # Application Configuration
  NEXT_PUBLIC_API_URL: 'https://api.citadelbuy.com'
  API_PORT: '4000'
  WEB_PORT: '3000'

  # Database Configuration
  DATABASE_SSL: 'true'
  DB_POOL_MIN: '10'
  DB_POOL_MAX: '50'
  DB_CONNECTION_TIMEOUT: '5000'
  DB_IDLE_TIMEOUT: '60000'
  DB_STATEMENT_TIMEOUT: '30000'

  # Redis Configuration
  REDIS_MAX_CONNECTIONS: '50'
  REDIS_TLS: 'true'
  REDIS_CLUSTER_MODE: 'true'

  # Logging
  LOG_LEVEL: 'warn'
  LOG_FORMAT: 'json'
  LOG_SAMPLING: 'true'

  # Feature Flags
  ENABLE_DEBUG_MODE: 'false'
  ENABLE_HOT_RELOAD: 'false'
  ENABLE_SWAGGER: 'false'

  # Performance
  API_RATE_LIMIT: '100'
  CACHE_TTL: '3600'
  ENABLE_COMPRESSION: 'true'

  # Security
  JWT_EXPIRES_IN: '15m'
  JWT_REFRESH_EXPIRES_IN: '7d'
  CORS_ORIGIN: 'https://citadelbuy.com,https://www.citadelbuy.com'
  ENABLE_HELMET: 'true'
  ENABLE_RATE_LIMITING: 'true'
  ENABLE_CSRF: 'true'
  ENABLE_XSS_PROTECTION: 'true'
  SECURE_COOKIES: 'true'

  # Monitoring
  ENABLE_METRICS: 'true'
  ENABLE_TRACING: 'true'
  ENABLE_APM: 'true'
  ENABLE_ERROR_TRACKING: 'true'

  # External Services
  STRIPE_MODE: 'live'
  PAYMENT_PROVIDER: 'stripe-live'

  # Email
  EMAIL_PROVIDER: 'sendgrid'
  EMAIL_FROM: 'noreply@citadelbuy.com'
  EMAIL_REPLY_TO: 'support@citadelbuy.com'

  # Storage
  STORAGE_PROVIDER: 'azure-blob'
  AZURE_STORAGE_CONTAINER: 'citadelbuy-production'
  UPLOAD_MAX_SIZE: '104857600'
  ENABLE_STORAGE_CDN: 'true'

  # CDN
  CDN_URL: 'https://cdn.citadelbuy.com'
  ENABLE_CDN: 'true'
  CDN_CACHE_CONTROL: 'public, max-age=31536000, immutable'

  # AI Services
  AI_ENGINE_URL: 'http://ai-engine-service.citadelbuy-prod.svc.cluster.local:8002'
  SUPPLIER_INTEGRATION_URL: 'http://supplier-integration-service.citadelbuy-prod.svc.cluster.local:8001'
  AI_MAX_RETRIES: '3'
  AI_TIMEOUT: '30000'

  # Dropshipping
  ENABLE_DROPSHIPPING: 'true'
  DROPSHIPPING_AUTO_SYNC: 'true'
  SUPPLIER_SYNC_INTERVAL: '1800000'
  ENABLE_INVENTORY_ALERTS: 'true'

  # Organization Module
  ENABLE_ORGANIZATIONS: 'true'
  ENABLE_BANKING: 'true'
  ENABLE_ESCROW: 'true'
  ENABLE_COMPLIANCE: 'true'
  KYC_REQUIRED: 'true'

  # Health Checks
  HEALTH_CHECK_INTERVAL: '30'
  READINESS_PROBE_DELAY: '15'
  LIVENESS_PROBE_DELAY: '45'
  STARTUP_PROBE_DELAY: '60'

  # Scaling
  HPA_MIN_REPLICAS: '3'
  HPA_MAX_REPLICAS: '10'
  HPA_CPU_THRESHOLD: '60'
  HPA_MEMORY_THRESHOLD: '70'

  # Resources - API
  API_CPU_REQUEST: '1000m'
  API_CPU_LIMIT: '2000m'
  API_MEMORY_REQUEST: '1Gi'
  API_MEMORY_LIMIT: '2Gi'

  # Resources - Web
  WEB_CPU_REQUEST: '500m'
  WEB_CPU_LIMIT: '1000m'
  WEB_MEMORY_REQUEST: '512Mi'
  WEB_MEMORY_LIMIT: '1Gi'

  # Resources - Supplier Integration
  SUPPLIER_CPU_REQUEST: '250m'
  SUPPLIER_CPU_LIMIT: '500m'
  SUPPLIER_MEMORY_REQUEST: '512Mi'
  SUPPLIER_MEMORY_LIMIT: '1Gi'

  # Resources - AI Engine
  AI_CPU_REQUEST: '500m'
  AI_CPU_LIMIT: '1000m'
  AI_MEMORY_REQUEST: '1Gi'
  AI_MEMORY_LIMIT: '2Gi'

  # Backup & DR
  ENABLE_AUTOMATED_BACKUPS: 'true'
  BACKUP_RETENTION_DAYS: '30'
  ENABLE_POINT_IN_TIME_RECOVERY: 'true'

  # Compliance
  ENABLE_AUDIT_LOGGING: 'true'
  DATA_RETENTION_DAYS: '2555'
  ENABLE_GDPR_MODE: 'true'

  # Advanced Security
  ENABLE_WAF: 'true'
  ENABLE_DDOS_PROTECTION: 'true'
  ENABLE_IP_WHITELIST: 'false'
  MAX_REQUEST_SIZE: '10485760'

  # Session Management
  SESSION_TIMEOUT: '900000'
  MAX_SESSIONS_PER_USER: '5'

  # Search & Indexing
  ELASTICSEARCH_URL: 'https://elasticsearch.citadelbuy.com'
  ENABLE_FULL_TEXT_SEARCH: 'true'
