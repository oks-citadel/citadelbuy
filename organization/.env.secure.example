# ==============================================================================
# CitadelBuy E-Commerce Platform - Secure Environment Template
# ==============================================================================
# SECURITY WARNING: This is a TEMPLATE file with placeholder values.
#
# INSTRUCTIONS:
# 1. Copy this file to .env: cp .env.secure.example .env
# 2. Replace ALL "CHANGEME_*" values with actual secrets
# 3. NEVER commit .env files to version control
# 4. For production: Use Azure Key Vault or equivalent secret management
#
# PRODUCTION DEPLOYMENT:
# - All secrets should be retrieved from Azure Key Vault
# - Use Managed Identity for secure access
# - Reference: https://docs.microsoft.com/azure/key-vault/
#
# Last Updated: 2025-12-28
# ==============================================================================

# ==============================================================================
# DATABASE CONFIGURATION
# ==============================================================================
# SECURITY: Use strong, unique passwords (min 16 chars, mixed case, numbers, symbols)
# PRODUCTION: Use Azure Database for PostgreSQL with Private Endpoint
POSTGRES_USER=CHANGEME_DB_USERNAME
POSTGRES_PASSWORD=CHANGEME_STRONG_PASSWORD_MIN_16_CHARS
POSTGRES_DB=citadelbuy_dev
DATABASE_URL=postgresql://CHANGEME_DB_USERNAME:CHANGEME_DB_PASSWORD@localhost:5432/citadelbuy_dev?schema=public

# ==============================================================================
# REDIS CONFIGURATION
# ==============================================================================
# PRODUCTION: Use Azure Cache for Redis with access keys from Key Vault
REDIS_URL=redis://localhost:6379

# ==============================================================================
# JWT AUTHENTICATION
# ==============================================================================
# CRITICAL: Generate cryptographically secure random secrets
# Generate with: openssl rand -base64 64
# PRODUCTION: Store in Azure Key Vault
JWT_SECRET=CHANGEME_GENERATE_WITH_OPENSSL_RAND_BASE64_64
JWT_REFRESH_SECRET=CHANGEME_GENERATE_DIFFERENT_SECRET_WITH_OPENSSL
JWT_EXPIRATION=1h
JWT_REFRESH_EXPIRATION=7d
JWT_EXPIRES_IN=7d

# ==============================================================================
# SERVER CONFIGURATION
# ==============================================================================
NODE_ENV=development
PORT=4000
API_PREFIX=/api
CORS_ORIGIN=http://localhost:3000

# ==============================================================================
# FRONTEND CONFIGURATION
# ==============================================================================
FRONTEND_URL=http://localhost:3000
NEXT_PUBLIC_API_URL=http://localhost:4000
NEXT_PUBLIC_WS_URL=ws://localhost:4000

# ==============================================================================
# STRIPE PAYMENT GATEWAY
# ==============================================================================
# CRITICAL: Never expose secret keys in client-side code
# PRODUCTION: Use restricted API keys from Key Vault
# Get keys from: https://dashboard.stripe.com/apikeys
STRIPE_ENABLED=true
STRIPE_SECRET_KEY=CHANGEME_sk_test_YOUR_STRIPE_SECRET_KEY
STRIPE_PUBLISHABLE_KEY=CHANGEME_pk_test_YOUR_STRIPE_PUBLISHABLE_KEY
STRIPE_WEBHOOK_SECRET=CHANGEME_whsec_YOUR_WEBHOOK_SECRET
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=CHANGEME_pk_test_YOUR_STRIPE_PUBLISHABLE_KEY

# ==============================================================================
# ELASTICSEARCH
# ==============================================================================
# PRODUCTION: Use Azure Cognitive Search or secured Elasticsearch cluster
ELASTICSEARCH_URL=http://localhost:9200
ELASTICSEARCH_NODE=http://localhost:9200
ELASTICSEARCH_INDEX=citadelbuy-products

# ==============================================================================
# MONITORING & LOGGING
# ==============================================================================
LOG_LEVEL=debug
# PRODUCTION: Add Sentry DSN for error tracking
SENTRY_DSN=

# ==============================================================================
# ADMIN TOOLS
# ==============================================================================
# SECURITY: Change default credentials immediately after setup
# PRODUCTION: Disable or restrict access to admin tools
GRAFANA_ADMIN_USER=CHANGEME_GRAFANA_ADMIN
GRAFANA_ADMIN_PASSWORD=CHANGEME_STRONG_GRAFANA_PASSWORD
PGADMIN_DEFAULT_EMAIL=CHANGEME_admin@yourdomain.com
PGADMIN_DEFAULT_PASSWORD=CHANGEME_STRONG_PGADMIN_PASSWORD

# ==============================================================================
# MESSAGE QUEUE
# ==============================================================================
# PRODUCTION: Use Azure Service Bus or secured RabbitMQ cluster
RABBITMQ_USER=CHANGEME_RABBITMQ_USER
RABBITMQ_PASSWORD=CHANGEME_STRONG_RABBITMQ_PASSWORD

# ==============================================================================
# STORAGE SERVICES (MINIO/S3)
# ==============================================================================
# PRODUCTION: Use Azure Blob Storage with Managed Identity
MINIO_ROOT_USER=CHANGEME_MINIO_ADMIN
MINIO_ROOT_PASSWORD=CHANGEME_STRONG_MINIO_PASSWORD

# ==============================================================================
# EMAIL CONFIGURATION
# ==============================================================================
# PRODUCTION: Use Azure Communication Services or SendGrid
EMAIL_HOST=CHANGEME_smtp.your-email-provider.com
EMAIL_PORT=587
EMAIL_USER=CHANGEME_EMAIL_USERNAME
EMAIL_PASSWORD=CHANGEME_EMAIL_PASSWORD
EMAIL_FROM=noreply@yourdomain.com

# ==============================================================================
# KYC ENCRYPTION
# ==============================================================================
# CRITICAL: Generate with: openssl rand -hex 32
# PRODUCTION: Store in Azure Key Vault, use HSM-backed keys for compliance
KYC_ENCRYPTION_KEY=CHANGEME_GENERATE_WITH_OPENSSL_RAND_HEX_32

# ==============================================================================
# AZURE KEY VAULT (PRODUCTION)
# ==============================================================================
# Enable for production deployments
# AZURE_KEY_VAULT_URL=https://your-keyvault-name.vault.azure.net/
# AZURE_CLIENT_ID=your-managed-identity-or-app-client-id
# AZURE_TENANT_ID=your-azure-tenant-id
