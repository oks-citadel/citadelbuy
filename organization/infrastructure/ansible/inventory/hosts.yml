---
# CitadelBuy Infrastructure Inventory
# Ansible inventory file for all environments

all:
  children:
    # Development Environment
    development:
      children:
        dev_web:
          hosts:
            dev-web-01:
              ansible_host: 10.0.1.10
              ansible_user: ubuntu
              ansible_ssh_private_key_file: ~/.ssh/citadelbuy-dev.pem

        dev_app:
          hosts:
            dev-app-01:
              ansible_host: 10.0.1.20
              ansible_user: ubuntu
              ansible_ssh_private_key_file: ~/.ssh/citadelbuy-dev.pem

        dev_db:
          hosts:
            dev-db-01:
              ansible_host: 10.0.1.30
              ansible_user: ubuntu
              ansible_ssh_private_key_file: ~/.ssh/citadelbuy-dev.pem
              postgres_version: 16
              postgres_port: 5432

    # Staging Environment
    staging:
      children:
        staging_web:
          hosts:
            staging-web-01:
              ansible_host: 10.0.2.10
              ansible_user: ubuntu
              ansible_ssh_private_key_file: ~/.ssh/citadelbuy-staging.pem
            staging-web-02:
              ansible_host: 10.0.2.11
              ansible_user: ubuntu
              ansible_ssh_private_key_file: ~/.ssh/citadelbuy-staging.pem

        staging_app:
          hosts:
            staging-app-01:
              ansible_host: 10.0.2.20
              ansible_user: ubuntu
              ansible_ssh_private_key_file: ~/.ssh/citadelbuy-staging.pem
            staging-app-02:
              ansible_host: 10.0.2.21
              ansible_user: ubuntu
              ansible_ssh_private_key_file: ~/.ssh/citadelbuy-staging.pem

        staging_db:
          hosts:
            staging-db-01:
              ansible_host: 10.0.2.30
              ansible_user: ubuntu
              ansible_ssh_private_key_file: ~/.ssh/citadelbuy-staging.pem
              postgres_version: 16
              postgres_port: 5432
              postgres_max_connections: 200

    # Production Environment
    production:
      children:
        prod_web:
          hosts:
            prod-web-01:
              ansible_host: 10.0.3.10
              ansible_user: ubuntu
              ansible_ssh_private_key_file: ~/.ssh/citadelbuy-prod.pem
            prod-web-02:
              ansible_host: 10.0.3.11
              ansible_user: ubuntu
              ansible_ssh_private_key_file: ~/.ssh/citadelbuy-prod.pem
            prod-web-03:
              ansible_host: 10.0.3.12
              ansible_user: ubuntu
              ansible_ssh_private_key_file: ~/.ssh/citadelbuy-prod.pem

        prod_app:
          hosts:
            prod-app-01:
              ansible_host: 10.0.3.20
              ansible_user: ubuntu
              ansible_ssh_private_key_file: ~/.ssh/citadelbuy-prod.pem
            prod-app-02:
              ansible_host: 10.0.3.21
              ansible_user: ubuntu
              ansible_ssh_private_key_file: ~/.ssh/citadelbuy-prod.pem
            prod-app-03:
              ansible_host: 10.0.3.22
              ansible_user: ubuntu
              ansible_ssh_private_key_file: ~/.ssh/citadelbuy-prod.pem

        prod_db:
          hosts:
            prod-db-primary:
              ansible_host: 10.0.3.30
              ansible_user: ubuntu
              ansible_ssh_private_key_file: ~/.ssh/citadelbuy-prod.pem
              postgres_version: 16
              postgres_port: 5432
              postgres_max_connections: 500
              postgres_role: primary
            prod-db-replica-01:
              ansible_host: 10.0.3.31
              ansible_user: ubuntu
              ansible_ssh_private_key_file: ~/.ssh/citadelbuy-prod.pem
              postgres_version: 16
              postgres_port: 5432
              postgres_role: replica
              postgres_primary_host: 10.0.3.30

    # Monitoring Infrastructure
    monitoring:
      hosts:
        monitoring-01:
          ansible_host: 10.0.4.10
          ansible_user: ubuntu
          ansible_ssh_private_key_file: ~/.ssh/citadelbuy-monitoring.pem
          prometheus_retention: 30d
          grafana_port: 3000

  # Global Variables
  vars:
    ansible_python_interpreter: /usr/bin/python3
    ansible_become: true
    ansible_become_method: sudo
