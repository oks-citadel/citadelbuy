# Default values for ai-marketing-service
# This is a YAML-formatted file.

global:
  environment: development

# Lead Scorer component - ML-based lead scoring
leadScorer:
  enabled: true
  name: lead-scorer
  replicaCount: 1
  image:
    repository: broxiva/lead-scorer
    tag: "1.0.0"
    pullPolicy: IfNotPresent
  service:
    type: ClusterIP
    port: 80
    targetPort: 8080
  resources:
    requests:
      cpu: 200m
      memory: 512Mi
    limits:
      cpu: 1000m
      memory: 2Gi
  autoscaling:
    enabled: false
    minReplicas: 1
    maxReplicas: 10
    targetCPUUtilizationPercentage: 70
    targetMemoryUtilizationPercentage: 80
  probes:
    liveness:
      path: /health/live
      initialDelaySeconds: 30
      periodSeconds: 10
    readiness:
      path: /health/ready
      initialDelaySeconds: 10
      periodSeconds: 5
  podDisruptionBudget:
    enabled: false
    minAvailable: 1

# Churn Predictor component - ML-based churn prediction
churnPredictor:
  enabled: true
  name: churn-predictor
  replicaCount: 1
  image:
    repository: broxiva/churn-predictor
    tag: "1.0.0"
    pullPolicy: IfNotPresent
  service:
    type: ClusterIP
    port: 80
    targetPort: 8080
  resources:
    requests:
      cpu: 200m
      memory: 512Mi
    limits:
      cpu: 1000m
      memory: 2Gi
  autoscaling:
    enabled: false
    minReplicas: 1
    maxReplicas: 10
    targetCPUUtilizationPercentage: 70
    targetMemoryUtilizationPercentage: 80
  probes:
    liveness:
      path: /health/live
      initialDelaySeconds: 30
      periodSeconds: 10
    readiness:
      path: /health/ready
      initialDelaySeconds: 10
      periodSeconds: 5
  podDisruptionBudget:
    enabled: false
    minAvailable: 1

# Content Generator component - AI content generation
contentGenerator:
  enabled: true
  name: content-generator
  replicaCount: 1
  image:
    repository: broxiva/content-generator
    tag: "1.0.0"
    pullPolicy: IfNotPresent
  service:
    type: ClusterIP
    port: 80
    targetPort: 8080
  resources:
    requests:
      cpu: 300m
      memory: 1Gi
    limits:
      cpu: 2000m
      memory: 4Gi
  autoscaling:
    enabled: false
    minReplicas: 1
    maxReplicas: 8
    targetCPUUtilizationPercentage: 70
    targetMemoryUtilizationPercentage: 80
  probes:
    liveness:
      path: /health/live
      initialDelaySeconds: 45
      periodSeconds: 15
    readiness:
      path: /health/ready
      initialDelaySeconds: 20
      periodSeconds: 10
  podDisruptionBudget:
    enabled: false
    minAvailable: 1

# Ingress configuration
ingress:
  enabled: false
  className: nginx
  annotations: {}
  hosts:
    - host: ai-marketing.local
      paths:
        - path: /lead-scorer
          pathType: Prefix
          service: lead-scorer
        - path: /churn
          pathType: Prefix
          service: churn-predictor
        - path: /content
          pathType: Prefix
          service: content-generator
  tls: []

# ServiceAccount configuration
serviceAccount:
  create: true
  annotations: {}
  name: ""

# Pod-level security context
podSecurityContext:
  runAsNonRoot: true
  runAsUser: 1000
  runAsGroup: 1000
  fsGroup: 1000
  seccompProfile:
    type: RuntimeDefault

# Container-level security context
securityContext:
  allowPrivilegeEscalation: false
  readOnlyRootFilesystem: true
  runAsNonRoot: true
  runAsUser: 1000
  capabilities:
    drop:
      - ALL

# Image pull secrets
imagePullSecrets: []

# Pod annotations
podAnnotations:
  prometheus.io/scrape: "true"
  prometheus.io/port: "8080"
  prometheus.io/path: "/metrics"

# Affinity rules
affinity: {}

# ConfigMap data
configMap:
  LOG_LEVEL: debug
  LOG_FORMAT: json
  METRICS_ENABLED: "true"
  TRACING_ENABLED: "false"
  ML_MODEL_CACHE_TTL: "3600"
  PREDICTION_BATCH_SIZE: "50"
  CONTENT_MAX_TOKENS: "2048"
