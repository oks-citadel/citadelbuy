# Terraform Configuration Variables
# These variables are used for infrastructure as code deployments

variables:
  # Terraform Version
  TF_VERSION: '1.6.0'

  # Terraform Backend Configuration (Azure Storage)
  TF_BACKEND_RG: 'citadelbuy-tfstate-rg'
  TF_BACKEND_STORAGE: 'citadelbuytfstate'
  TF_BACKEND_CONTAINER: 'tfstate'

  # Terraform Working Directory
  TF_WORKING_DIR: '$(System.DefaultWorkingDirectory)/infrastructure/terraform'

  # Terraform Plan Output
  TF_PLAN_FILE: 'tfplan'

  # Terraform Logging
  TF_LOG: 'INFO'
  TF_IN_AUTOMATION: 'true'

  # Terraform Plugin Cache
  TF_PLUGIN_CACHE_DIR: '$(Pipeline.Workspace)/.terraform.d/plugin-cache'

  # Terraform CLI Configuration
  TF_CLI_ARGS: '-no-color'
  TF_CLI_ARGS_init: '-upgrade'
  TF_CLI_ARGS_plan: '-input=false'
  TF_CLI_ARGS_apply: '-input=false -auto-approve'

  # Azure Provider Configuration
  ARM_SKIP_PROVIDER_REGISTRATION: 'false'
  ARM_USE_MSI: 'false'

  # Terraform State Lock
  TF_STATE_LOCK: 'true'
  TF_STATE_LOCK_TIMEOUT: '10m'
