# Notification Service Environment Configuration
#
# This service supports multiple notification providers.
# If credentials are not set, the service falls back to simulation mode.

# ==============================================================================
# Service Configuration
# ==============================================================================
LOG_LEVEL=INFO
LOG_FORMAT=json
PORT=8009
WORKERS=2

# ==============================================================================
# Email Provider Configuration (AWS SES - REQUIRED)
# ==============================================================================
# AWS SES is the ONLY supported email provider (AWS-only infrastructure constraint)
# External email providers (SendGrid, Mailgun, etc.) are NOT supported.

# --- AWS SES Configuration (REQUIRED for production) ---
# Configure AWS credentials for SES email delivery
AWS_SES_ACCESS_KEY_ID=AKIAXXXXXXXXXXXXXXXX
AWS_SES_SECRET_ACCESS_KEY=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
AWS_SES_REGION=us-east-1
AWS_SES_FROM_EMAIL=noreply@broxiva.com
AWS_SES_FROM_NAME=Broxiva
# AWS_SES_CONFIGURATION_SET=broxiva-email-tracking

# ==============================================================================
# SMS Provider Configuration (AWS SNS)
# ==============================================================================
# The service will try: AWS SNS -> Simulation

# --- AWS SNS Configuration ---
# Configure AWS credentials for SNS SMS
# Uses shared AWS credentials if specific SNS keys not set
# AWS_SNS_ACCESS_KEY_ID=AKIAXXXXXXXXXXXXXXXX
# AWS_SNS_SECRET_ACCESS_KEY=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
# AWS_SNS_REGION=us-east-1
# AWS_SNS_SENDER_ID=Broxiva
# AWS_SNS_DEFAULT_SMS_TYPE=Transactional  # or Promotional

# ==============================================================================
# Message Queue Configuration (AWS SQS)
# ==============================================================================
# The service will try: AWS SQS -> Simulation (in-memory)

# --- AWS SQS Configuration ---
# Configure AWS credentials for SQS message queuing
# AWS_SQS_ACCESS_KEY_ID=AKIAXXXXXXXXXXXXXXXX
# AWS_SQS_SECRET_ACCESS_KEY=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
# AWS_SQS_REGION=us-east-1
# AWS_SQS_QUEUE_NAME=broxiva-notifications
# AWS_SQS_QUEUE_URL=https://sqs.us-east-1.amazonaws.com/123456789/broxiva-notifications
# AWS_SQS_DLQ_URL=https://sqs.us-east-1.amazonaws.com/123456789/broxiva-notifications-dlq

# ==============================================================================
# Push Notification Provider Configuration
# ==============================================================================
# The service will try: Firebase Cloud Messaging -> Simulation

# --- Firebase Cloud Messaging (FCM) Configuration ---
# Create a Firebase project at https://console.firebase.google.com
# Generate a service account key (JSON) for your project
# FIREBASE_PROJECT_ID=your-project-id
# FIREBASE_CREDENTIALS_JSON=/path/to/service-account.json
# Or provide the JSON content directly:
# FIREBASE_CREDENTIALS_JSON={"type":"service_account","project_id":"..."}

# Alternative: Standard Google credential path
# GOOGLE_APPLICATION_CREDENTIALS=/path/to/service-account.json

# ==============================================================================
# Database Configuration (Optional)
# ==============================================================================
# DATABASE_URL=postgresql+asyncpg://user:password@localhost:5432/notification_service
# DB_POOL_SIZE=10
# DB_MAX_OVERFLOW=20

# ==============================================================================
# Redis Configuration (Optional)
# ==============================================================================
# REDIS_URL=redis://localhost:6379/1
# CACHE_TTL=3600

# ==============================================================================
# NLP Model Configuration (Optional)
# ==============================================================================
# MODEL_PATH=/app/models
# ENABLE_NLP_PERSONALIZATION=false

# ==============================================================================
# Notification Settings
# ==============================================================================
DEFAULT_TIMEZONE=UTC
DEFAULT_LOCALE=en-US
MAX_SEGMENT_SIZE=10000
MIN_SEGMENT_SIZE=10

# ==============================================================================
# Timing Optimization
# ==============================================================================
ENABLE_TIMING_OPTIMIZATION=true
ENABLE_TIMEZONE_DETECTION=true

# ==============================================================================
# Feature Flags
# ==============================================================================
ENABLE_AB_TESTING=true
ENABLE_SENTIMENT_ANALYSIS=false
ENABLE_ADVANCED_SEGMENTATION=true

# ==============================================================================
# Security
# ==============================================================================
# API_KEY=your_api_key_here
# ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3001

# ==============================================================================
# Monitoring
# ==============================================================================
ENABLE_METRICS=true
METRICS_PORT=9092
